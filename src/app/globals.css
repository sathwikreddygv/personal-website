@tailwind base;
@tailwind components;
@tailwind utilities;

/* :root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
} */

:root {
	/* Your default theme */
	--background: white;
	--foreground: black;
  }
  
  [data-theme='dark'] {
	--background: black; /* #22232a */
	--foreground: white;
  }

body {
  color: rgb(var(--foreground));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background))
    )
    rgb(var(--background));
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

.cp{
	cursor: pointer;
}

@keyframes sticky-parallax-header-move-and-size {
	from {
		top: 1rem;
		width: 100vw;
		font-size: 20px;
		/* border: 1px solid black; */
		opacity: 0;
	}
	to {
		top: 1rem;
		width: 40vw;
		font-size: 14px;

		opacity: 1;
	}
}

#sticky-parallax-header {
	position: fixed;
	top: 4;

	animation: sticky-parallax-header-move-and-size linear forwards;
	animation-timeline: scroll();
	animation-range: 0vh 90vh;
}

#scroll-icon {
	animation: scroll-icon 1.8s ease infinite;
}

@keyframes scroll-icon {
    0%{
        opacity: 0;
        transform: translate(-0px,-10px);
    }
    50%{
        opacity: 1;
    }
    100%{
        opacity: 0;
        transform: translate(0px,50px);
    }
}

:root {
	--card-height: 40vw;
	--card-margin: 7vw;
	--card-top-offset: 1em;
	--numcards: 4;
	--outline-width: 0px;
}

@supports (animation-timeline: view()) {
	.card {
		--index0: calc(var(--index) - 1); /* 0-based index */
		--reverse-index: calc(var(--numcards) - var(--index0)); /* reverse index */
		--reverse-index0: calc(var(--reverse-index) - 1); /* 0-based reverse index */
	}

	@keyframes scale {
		to {
			transform:
				scale(calc(1.1 - calc(0.1 * var(--reverse-index))));
		}
	}

	#cards {
		--numcards: 4;
		view-timeline-name: --cards-element-scrolls-in-body;
	}

	.card__content {
		--start-range: calc(var(--index0) / var(--numcards) * 100%);
		--end-range: calc((var(--index)) / var(--numcards) * 100%);

		animation: linear scale forwards;
		animation-timeline: --cards-element-scrolls-in-body;
		animation-range: exit-crossing var(--start-range) exit-crossing var(--end-range);
	}
}

#cards {
	/* Make place at bottom, as items will slide to that position*/
	padding-bottom: calc(var(--numcards) * var(--card-top-offset));
	/* Don't include the --card-margin in padding, as that will affect the scroll-timeline*/
	margin-bottom: var(--card-margin);
}

#card_1 {
	--index: 1;
}

#card_2 {
	--index: 2;
}

#card_3 {
	--index: 3;
}

#card_4 {
	--index: 4;
}

.card {
	position: sticky;
	top: 0;
	padding-top: calc(var(--index) * var(--card-top-offset) + 3em);
}

.card__content {
	transform-origin: 50% 0%;
	will-change: transform;
}

/** DEBUG **/

#debug {
  position: fixed;
  top: 1em;
  left: 1em;
}
#debug::after {
  content: " Show Debug";
  margin-left: 1.5em;
  color: white;
  white-space: nowrap;
}

#debug:checked ~ main {
  --outline-width: 1px;
}


/** PAGE STYLING **/

main * { /* Poor Man's Reset */
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

body {
	/* color: rgb(255, 255, 255); */

	font-size: calc(1em + 0.5vw);
}

header,
main {
	width: 80vw;
	margin: 0 auto;
	text-align: center;
}

header {
	height: 100vh;
	display: grid;
	place-items: center;
}

#cards {
	list-style: none;
	outline: calc(var(--outline-width) * 10) solid hotpink;

	display: grid;
	grid-template-columns: 1fr;
	grid-template-rows: repeat(var(--numcards), var(--card-height));
	gap: var(--card-margin);
}

.card {
	outline: var(--outline-width) solid lime;
}

.card__content {
	box-shadow: 0 0.2em 1em rgba(0, 0, 0, 0.1), 0 1em 2em rgba(0, 0, 0, 0.1);
	background: rgb(255, 255, 255);
	color: rgb(10, 5, 7);
	border-radius: 1em;
	overflow: hidden;

	display: grid;
	grid-template-areas: "text img";
	grid-template-columns: 1fr 1fr;
	grid-template-rows: auto;

	align-items: stretch;
	outline: var(--outline-width) solid blue;
}

.card__content > div {
	grid-area: text;
	width: 80%;
	place-self: center;
	text-align: left;

	display: grid;
	gap: 1em;
	place-items: start;
}

.card__content > figure {
	grid-area: img;
	overflow: hidden;
}

.card__content > figure > img {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

main h1 {
	font-weight: 300;
	font-size: 3.5em;
}

main h2 {
	font-weight: 300;
	font-size: 2.5em;
}

main p {
	font-family: sans-serif;
	font-weight: 300;
	line-height: 1.42;
}

aside {
	width: 50vw;
	margin: 0 auto;
	text-align: left;
}

aside p {
	margin-bottom: 1em;
}

/* Position warning box */
.warning {
	position: fixed;
	bottom: 1rem;
	left: 1rem;
	right: 1rem;
	width: max-content;
	text-align: center;
	max-width: 90vw;
	margin: auto;
	z-index: 2;
	font-size: 0.8em;
	color: #333;
}

.revealing-image {
	/* Create View Timeline */
	view-timeline-name: --revealing-image;
	view-timeline-axis: block;

	/* Attach animation, linked to the  View Timeline */
	animation: linear reveal both;
	animation-timeline: --revealing-image;

	/* Tweak range when effect should run*/
	animation-range: entry 25% cover 50%;
}

@keyframes reveal {
	from {
		opacity: 0;
		clip-path: inset(45% 20% 45% 20%);
	}
	to {
		opacity: 1;
		clip-path: inset(0% 0% 0% 0%);
	}
}

.circle {
    position: relative;
	margin-bottom: 180px;
}


.item:nth-child(1) { transform: rotate(0deg) translate(180px) rotate(0deg); animation-delay: 0s;}
.item:nth-child(2) { transform: rotate(60deg) translate(180px) rotate(-60deg); animation-delay: -1.6667s;}
.item:nth-child(3) { transform: rotate(120deg) translate(180px) rotate(-120deg); animation-delay: -3.3333s; }
.item:nth-child(4) { transform: rotate(180deg) translate(180px) rotate(-180deg); animation-delay: -5s;}
.item:nth-child(5) { transform: rotate(240deg) translate(180px) rotate(-240deg); animation-delay: -6.6667s;}
.item:nth-child(6) { transform: rotate(300deg) translate(180px) rotate(-300deg); animation-delay: -8.3333s;}

.item {
    position: absolute;
    width: 50px;
    height: 50px;
    /* background-color: #3498db;
    color: white; */
    display: flex;
    justify-content: center;
    align-items: center;
    /* border-radius: 50%; */
	animation: rotate-items 10s linear infinite;
}


@keyframes rotate-items {
    0% {
        transform: rotate(0deg) translateX(180px) rotate(0deg);
    }
    16.67% {
        transform: rotate(60deg) translateX(180px) rotate(-60deg);
    }
    33.33% {
        transform: rotate(120deg) translateX(180px) rotate(-120deg);
    }
    50% {
        transform: rotate(180deg) translateX(180px) rotate(-180deg);
    }
    66.67% {
        transform: rotate(240deg) translateX(180px) rotate(-240deg);
    }
    83.33% {
        transform: rotate(300deg) translateX(180px) rotate(-300deg);
    }
    100% {
        transform: rotate(360deg) translateX(180px) rotate(-360deg);
    }
}